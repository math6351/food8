<!DOCTYPE html>
<html lang="">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FOOD8 - Spis ude</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <section id="header">

        <a href="index.html">
            <div id="logo"></div>
        </a>

        <button class="burgermenu">
           <div class="bar1"></div>
           <div class="bar2"></div>
           <div class="bar3"></div>
        </button>

        <nav id="hovedmenu">
            <ul>

                <a id="spisude" href="spisude.html">
                    <li id="spisude_billede">Spis ude</li>
                </a>
                <a id="spishjemme" href="spishjemme.html">
                    <li id="spishjemme_billede">Spis hjemme</li>
                </a>
                <a id="bookbord" href="bookbord.html">
                    <li id="bookbord_billede">Book bord</li>
                </a>
                <a id="selskaber" href="selskaber.html">
                    <li id="selskaber_billede">Skal du holde selskab?</li>
                </a>
                <a id="om" href="omfood8.html">
                    <li id="om_billede">Om Food8</li>
                </a>

            </ul>

        </nav>

    </section>

    <div id="cirkelboks">
        <div id="cirkel"></div>
    </div>

    <main>

        <section id="om">
            <h1>OM</h1>
        </section>

        <template id="om_restaurant">
            <article>
               <div id="banner">
                   <img data-banner src="" alt="">
               </div>
                <h1 data-header></h1>
                <p data-beskrivelse></p>
            </article>
        </template>

        <section id="menukort">
            <div id="menukortslider" data-menukortslider>
                <h1></h1>
                <ul id="menukortslides" data-menukortslides>

                    <li class="menukortslide" data-slide>
                        <img src="food8_imgs/Spisehuset/image/jpeg/IMG-0654.jpg" alt=""> </li>

                    <li class="menukortslide">
                        <img src="food8_imgs/Spisehuset/image/jpeg/IMG-1659.jpg" alt=""> </li>

                    <li class="menukortslide">
                        <img src="food8_imgs/Spisehuset/image/jpeg/spisehuset3.jpg" alt=""> </li>
                </ul>
            </div>

            <div id="sliderknap1"></div>
            <div id="sliderknap2"></div>

        </section>

        <template id="menukorttemplate" data-menukorttemplate>
            <h1 data-header-menukort></h1>
               <li class="menukortslide" data-menukortslide></li>
                <img data-menukortimg>
        </template>

    </main>

    <section id="footer">

    </section>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="javascript.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", hentJson);

        let jSonUrl = "http://mathildeoldorf.dk/kea/07-contentmanagement/food8/wordpress/wp-json/wp/v2/restaurant";

        document.addEventListener("DOMContentLoaded", hentJson);
        async function hentJson() {
            let dataJson = await fetch(jSonUrl);

            console.log(restauranter);
            //                visMenukort();
            sliderMenukort();
        }

        async function hentInfo() {

        }





        //          function visMenukort() {
        //               console.log(restauranter);
        //                    restauranter = await dataJson.json();
        //        let restauranter = [];
        //        let display = document.querySelector("[data-menukortslides]");
        //        let template = document.querySelector("[data-menukorttemplate]");
        //               restauranter.forEach(restaurant => { // let klon = template.cloneNode(true).content; // console.log(restaurant); // // klon.querySelector("[data-header]").textContent = nyhed.acf.nyheds_title; // // klon.querySelector("[data-menukortslide] img").src = restaurant.acf.supplerende_billedemateriale2; // console.log(klon.querySelector("[data-menukortslide]")); // klon.querySelector("[data-menukortslide]").alt = "Billede af " + restaurant.acf.menukategorier; // display.appendChild(klon); // }); // }

        //        function sliderNyheder() {
        //            var width = 530;
        //            var widthStor = 825;
        //            var animationSpeed = 1800;
        //            var pause = 5000;
        //            var currentSlide = 1;
        //            var $slider = $("#nyhedsslider");
        //            var $slideContainer = $slider.find("#nyhedsslides");
        //            var $slides = $slideContainer.find(".nyhedsslide");
        //            var $tekst = $("#preview-tekst");
        //            var mq = window.matchMedia('all and (min-width: 900px)');
        //            setInterval(function() {
        //                if (mq.matches) {
        //                    sliderSliderStor();
        //                } else {
        //                    sliderSlider();
        //                }
        //            }, pause);
        //
        //            function sliderSlider() {
        //                console.log("sliderSlider");
        //                console.log("animationspeed er " + animationSpeed);
        //                console.log("pause er " + pause);
        //                $($slideContainer).animate({
        //                    "margin-left": "-=" + width
        //                }, animationSpeed, reset);
        //            }
        //
        //            function reset() {
        //                currentSlide++;
        //                if (currentSlide === $slides.length) {
        //                    console.log("currentSlide = length");
        //                    currentSlide = 1;
        //                    $slideContainer.css({
        //                        "margin-left": "0"
        //                    });
        //                }
        //            }

        /** MEDIA QUIERY **/

        //            function sliderSliderStor() {
        //                console.log("sliderSliderStor");
        //                console.log("animationspeed er " + animationSpeed);
        //                console.log("pause er" + pause);
        //                $($slideContainer).animate({
        //                    "margin-left": "-=" + widthStor
        //                }, animationSpeed, reset);
        //            }
        //        }


        function sliderMenukort() {

            var width = 465;
            var widthStor = 650;
            var animationSpeed = 1800;
            var pause = 5000;
            var currentSlide = 1;

            var $slider = $("#menukortslider");
            var $slideContainer = $slider.find("#menukortslides");
            var $slides = $slideContainer.find(".menukortslide");

            var $tekst = $("#preview-tekst");

            var mq = window.matchMedia('all and (min-width: 900px)');


            setInterval(function() {

                if (mq.matches) {
                    sliderSliderStor();
                } else {
                    sliderSlider();
                }


            }, pause);

            function sliderSlider() {
                console.log("sliderSlider");
                console.log("animationspeed er " + animationSpeed);
                console.log("pause er " + pause)
                $($slideContainer).animate({
                    "margin-left": "-=" + width
                }, animationSpeed, reset);
            }


            function reset() {

                currentSlide++;
                if (currentSlide === $slides.length) {
                    console.log("currentSlide = length");
                    currentSlide = 1;
                    $slideContainer.css({
                        "margin-left": "0"
                    });
                }
            }


            /** MEDIA QUIERY **/

            function sliderSliderStor() {
                console.log("sliderSliderStor");
                console.log("animationspeed er " + animationSpeed);
                console.log("pause er" + pause)
                $($slideContainer).animate({
                    "margin-left": "-=" + widthStor
                }, animationSpeed, reset);
            }

        }
    </script>
</body>

</html>
