<!DOCTYPE html>
<html lang="">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FOOD8 - forside</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <section id="header">

        <a href="index.html">
            <div id="logo"></div>
        </a>

        <button class="burgermenu">
           <div class="bar1"></div>
           <div class="bar2"></div>
           <div class="bar3"></div>
        </button>

        <nav id="hovedmenu">
            <ul>

                <a id="spisude" href="spisude.html">
                    <li id="spisude_billede">Spis ude</li>
                </a>
                <a id="spishjemme" href="spishjemme.html">
                    <li id="spishjemme_billede">Spis hjemme</li>
                </a>
                <a id="bookbord" href="bookbord.html">
                    <li id="bookbord_billede">Book bord</li>
                </a>
                <a id="selskaber" href="selskaber.html">
                    <li id="selskaber_billede">Skal du holde selskab?</li>
                </a>
                <a id="om" href="omfood8.html">
                    <li id="om_billede">Om Food8</li>
                </a>

            </ul>

        </nav>

    </section>

    <div id="cirkelboks">
        <div id="cirkel"></div>
    </div>

    <main>
        <section id="filter_kategorier" data-kategorier>

        </section>

        <template id="kategori_temp" data-template>

            <button class="kategori" data-kategori>
            </button>

        </template>

    </main>

    <section id="footer">

    </section>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="javascript.js"></script>
    <script>
        let jSonUrl = "http://mathildeoldorf.dk/kea/07-contentmanagement/food8/wordpress/wp-json/wp/v2/kategori_restaurant";

        let kategorier = [];

        let display = document.querySelector("[data-kategorier]");
        let template = document.querySelector("[data-template]");
        document.addEventListener("DOMContentLoaded", hentJson);

        async function hentJson() {
            let dataJson = await fetch(jSonUrl);

            kategorier = await dataJson.json();

            console.log(kategorier);
            visKategorier();

        }


        function visKategorier() {
            console.log(kategorier);
            kategorier.forEach(kategori => {
                let klon = template.cloneNode(true).content;
                console.log("wtsetrwtv", klon.querySelector("[data-kategori]"));

                klon.querySelector("[data-kategori]").style.backgroundImage = "url('" + kategori.acf.kategori_billede + "')";

                klon.querySelector("[data-kategori]").alt = "Billede af" + kategori.acf.kategori_titel;

                klon.querySelector("[data-kategori]").textContent = kategori.acf.kategori_titel;

                display.appendChild(klon);
            });
        }

    </script>
